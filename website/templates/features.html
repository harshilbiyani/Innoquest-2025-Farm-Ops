<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="{{ url_for('static', filename='agriculture-chatbot-styles.css') }}">
  <title data-translate="features.title">FarmOps Features</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="{{ url_for('static', filename='global-translations.js') }}"></script>
  <style>
    html, body {
      height: 100%;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: url('{{ url_for('static', filename='images/landing-bg.jpg') }}') no-repeat center center/cover;
      background-attachment: fixed;
      font-family: 'Segoe UI', Arial, sans-serif;
      min-height: 120vh;
      overflow-x: hidden;
      overflow-y: auto;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    .features-container {
      min-height: 120vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      position: relative;
      z-index: 2;
      padding: 2rem 0 4rem 0;
    }
    .features-bg {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 95vw;
      height: 110vh;
      min-height: 1200px;
      background: rgba(255, 255, 255, 0.14);
      border-radius: 30px;
      backdrop-filter: blur(11px);
      box-shadow: 0 6px 60px 2px rgba(112,255,54,0.04);
      z-index: 1;
      pointer-events: none;
    }
    .features-grid {
      width: 90vw;
      max-width: 1400px;
      min-height: 90vh;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, auto);
      gap: 2.5rem;
      place-items: center;
      position: relative;
      z-index: 2;
      margin: 0 auto;
      padding: 2rem 2rem 4rem 2rem;
    }
    
    /* Position 7th card in middle of 2nd row, 8th card in middle of 3rd row */
    .features-grid > a:nth-child(7) {
      grid-column: 2 / 3;
      grid-row: 2 / 3;
      justify-self: center;
      margin: 0;
    }
    
    .features-grid > a:nth-child(8) {
      grid-column: 2 / 3;
      grid-row: 3 / 4;
      justify-self: center;
      margin: 0;
    }
    .feature-card {
      background: rgba(247, 251, 246, 0.81);
      border-radius: 1rem;
      box-shadow: 0 4px 22px rgba(60, 80, 70, 0.16);
      padding: 1.2rem 1.4rem 1.2rem 1.4rem;
      width: 100%;
      max-width: 380px;
      min-width: 300px;
      min-height: 180px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-start;
      transition: transform .36s, box-shadow .36s;
      cursor: pointer;
      overflow: hidden;
      border: 1.3px solid rgba(232, 255, 90, 0.11);
      position: relative;
    }
    .feature-card:hover {
      transform: scale(1.04) rotate(-1deg);
      box-shadow: 0 12px 30px rgba(193,255,58,0.12), 0 4px 14px rgba(56,142,60,0.12);
      background: rgba(238,255,210, 0.9);
      border-color: #e8ff5a;
    }
    .feature-circle {
      position: absolute;
      right: -22px; top: -22px;
      width: 36px;
      height: 36px;
      z-index: 1;
      opacity: .40;
      pointer-events: none;
      animation: rotateSpin 6s linear infinite;
    }
    .feature-icon {
      font-size: 1.3rem;
      margin-bottom: 0.3rem;
      color: #43a047;
      background: linear-gradient(135deg, #e8fe7d 40%, #5aedc7 100%);
      border-radius: 50%;
      padding: 7px 9px;
      box-shadow: 0 2px 10px #e8ff5a39;
      z-index: 2;
      position: relative;
      transition: color .28s;
    }
    .feature-card:hover .feature-icon {
      color: #689f38;
    }
    .feature-title {
      font-size: 1.1rem;
      color: #388e3c;
      font-weight: 1000;
      letter-spacing: 0.38px;
      z-index: 2;
      position: relative;
      margin-bottom: 0.3rem;
    }
    .feature-desc {
      font-size: 0.92rem;
      color: #527442;
      line-height: 1.4;
      text-align: left;
      z-index: 2;
      position: relative;
      opacity: .97;
    }
    @keyframes rotateSpin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
    .feature-main-heading {
      font-family: 'Segoe UI', Arial, sans-serif;
      font-size: 2.4rem;
      font-weight: 900;
      text-align: center;
      margin: 1.5rem 0 1.6rem 0;
      letter-spacing: 2.2px;
      line-height: 1.18;
      color: #1c361b;
      z-index: 2;
      padding: 0.4rem 2vw;
      text-shadow: 0 5px 18px #a5ff4e55, 0px 1px 1px #3e892b17;
      animation: none;
    }
    .farmops-highlight {
      color: #e8ff5a;
      font-weight: 900;
      letter-spacing: 2px;
      text-shadow: 0 2px 9px #e8ff5a7a;
      padding: 0 0.25rem;
    }
    .heading-gradient {
      display: inline-block;
      font-weight: inherit;
      font-size: inherit;
      background: linear-gradient(92deg, #e8ff5a 18%, #43a047 48%, #5aedc7 80%);
      background-size: 400% 100%; /* Increased for seamless shimmer */
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      padding: 0 6px;
      animation: shimmerSmooth 3.2s linear infinite alternate;
    }
    .heading-icon {
      font-size: 1.15rem;
      vertical-align: middle;
      margin: 0 5px;
      opacity: 0.85;
      animation: pulseIcon 1.8s infinite alternate-reverse;
    }
    @keyframes shimmerSmooth {
      0%   {background-position: 0% 50%;}
      100% {background-position: 100% 50%;}
    }
    @keyframes pulseIcon {
      0%   {transform: scale(1);}
      80%  {transform: scale(1.14);}
      100% {transform: scale(0.93);}
    }
    @media (max-width: 950px) {
      .features-container {min-height: 130vh;}
      .features-grid {max-width: 99vw; min-height: 85vh;}
      .features-bg { width: 99vw; height: 120vh; min-height: 1100px;}
      .feature-card {max-width: 280px; min-height: 140px; padding: 0.7rem 1rem;}
      .feature-title {font-size: 1rem;}
      .feature-desc {font-size: 0.85rem; line-height: 1.35;}
      .feature-main-heading {font-size: 1.9rem;}
      .farmops-highlight {padding: 0 0.15rem;}
      .heading-gradient {padding: 0 4px;}
      .feature-icon {font-size: 1.1rem; padding: 6px 7px;}
      .feature-circle {width: 28px; height: 28px; right: -16px; top: -16px;}
    }
    @media (max-width: 700px) {
      .features-container {min-height: 150vh;}
      .features-bg {min-height: 140vh; width: 95vw; height: 135vh;}
      .features-grid {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: repeat(4, auto);
        min-height: auto;
        width: 90vw;
        padding: 2rem 1rem 3rem 1rem;
        gap: 2rem;
      }
      
      .feature-card {
        min-width: 250px;
        max-width: 300px;
      }
      
      /* Reset centering for mobile */
      .features-grid > a:nth-child(7),
      .features-grid > a:nth-child(8) {
        grid-column: auto;
        justify-self: center;
        margin: 0;
      }
      .feature-card {
        max-width: 320px;
        min-height: 145px;
        padding: 1rem 1.1rem;
        margin-bottom: 0.7rem;
      }
      .feature-main-heading {font-size: 1.6rem;}
      .feature-icon {font-size: 1.3rem; padding: 7px 9px;}
    }
    @media (max-width: 540px) {
      .features-container {min-height: 220vh;}
      .features-bg {min-height: 210vh; width: 95vw; height: 200vh;}
      .features-grid {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(8, auto);
        width: 85vw;
        min-height: auto;
        padding: 2rem 1rem 4rem 1rem;
        gap: 2rem;
      }
      
      .feature-card {
        min-width: 280px;
        max-width: 320px;
      }
      
      /* Reset centering for smallest screens */
      .features-grid > a:nth-child(7),
      .features-grid > a:nth-child(8) {
        grid-column: auto;
        justify-self: center;
        margin: 0;
      }
      .feature-card {
        margin-bottom: 0.7rem;
      }
      .feature-main-heading {
        font-size: 1.25rem;
        margin: 1rem 0 0.4rem 0;
      }
      .farmops-highlight {
        padding: 0 0.12rem;
      }
      .heading-gradient {
        padding: 0 3px;
      }
      .feature-icon {
        font-size: 1.2rem;
        padding: 6px 7px;
      }
    }

    /* Home Button Styling */
    .nav-link {
      position: absolute;
      top: calc(50% - 55vh + 30px);
      left: calc(50% - 47.5vw + 30px);
      z-index: 10;
      background: rgba(247, 251, 246, 0.81);
      border-radius: 12px;
      box-shadow: 0 4px 22px rgba(60, 80, 70, 0.16);
      padding: 12px 20px;
      color: #388e3c;
      text-decoration: none;
      font-family: 'Segoe UI', Arial, sans-serif;
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.5px;
      border: 1.3px solid rgba(232, 255, 90, 0.11);
      transition: transform .36s, box-shadow .36s, background .36s, color .36s, border-color .36s;
      backdrop-filter: blur(11px);
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .nav-link:hover {
      transform: scale(1.04) rotate(-0.5deg);
      box-shadow: 0 12px 30px rgba(193,255,58,0.12), 0 4px 14px rgba(56,142,60,0.12);
      background: rgba(238,255,210, 0.9);
      border-color: #e8ff5a;
      color: #1c361b;
      text-shadow: 0 1px 3px rgba(67, 160, 71, 0.3);
    }

    .nav-link::before {
      content: 'üè†';
      margin-right: 8px;
      font-size: 1.1rem;
      transition: transform .3s;
    }

    .nav-link:hover::before {
      transform: scale(1.1);
    }

    @media (max-width: 950px) {
      .nav-link {
        top: calc(50% - 60vh + 25px);
        left: calc(50% - 49.5vw + 25px);
      }
    }

    @media (max-width: 768px) {
      .nav-link {
        padding: 10px 16px;
        font-size: 0.9rem;
        top: calc(50% - 60vh + 20px);
        left: calc(50% - 49.5vw + 20px);
      }
      
      .nav-link::before {
        font-size: 1rem;
        margin-right: 6px;
      }
    }

    @media (max-width: 700px) {
      .nav-link {
        top: calc(50% - 67.5vh + 20px);
        left: calc(50% - 47.5vw + 20px);
      }
    }
    
    @media (max-width: 540px) {
      .nav-link {
        top: calc(50% - 100vh + 20px);
        left: calc(50% - 47.5vw + 20px);
      }
    }
  </style>
</head>
<body>
  <div class="features-container">
    <a href="{{ url_for('main_dashboard') }}" class="nav-link">
      <span data-translate="nav.home">Home</span>
    </a>
    <h1 class="feature-main-heading">
      <span class="farmops-highlight">FarmOps:</span>
      <span class="heading-gradient" data-translate="features.heading">Explore Farming Solutions</span>
    </h1>
    <div class="features-bg"></div>
    <div class="features-grid">
      <a href="/index" style="text-decoration:none;color:inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#e8ff5a" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.location.title">Location Based Crop Suggestion</div>
          <div class="feature-desc" data-translate="features.location.desc">Recommends suitable crops based on regional climate and geography.
Helps farmers maximize yield by aligning with local environmental conditions.</div>
        </div>
      </a>
      <a href="/manual-input" style="text-decoration:none;color:inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#6fffd3" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.soil.title">Soil Data Based Crop Suggestion</div>
          <div class="feature-desc" data-translate="features.soil.desc">Suggests crops by analyzing soil health, nutrients, and fertility.
Ensures better productivity by matching crops with soil requirements.</div>
        </div>
      </a>
      <a href="/market-dashboard" style="text-decoration:none;color:inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#52e879" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.mandi.title">Mandi Recommendation</div>
          <div class="feature-desc" data-translate="features.mandi.desc">Guides farmers to nearby markets offering better prices for their produce.
Enables smarter selling decisions and higher profitability.</div>
        </div>
      </a>
      <a href="/guidance" style="text-decoration:none;color:inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#ffe99f" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.expert.title">Ask an Expert</div>
          <div class="feature-desc" data-translate="features.expert.desc">Connects users directly with agricultural experts for personalized advice.
Supports quick solutions to farming challenges and doubts.</div>
        </div>
      </a>
      <a href="{{ url_for('weather_page') }}" style="text-decoration: none; color: inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#fcf691" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.weather.title">Know Weather</div>
          <div class="feature-desc" data-translate="features.weather.desc">Provides real-time weather updates and forecasts for informed farming decisions.
  Reduces risk by helping plan irrigation, sowing, and harvesting activities.</div>
        </div>
      </a>
      <a href="{{ url_for('disease_detection') }}" style="text-decoration: none; color: inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#b2ffd1" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.disease.title">Crop Disease Identification</div>
          <div class="feature-desc" data-translate="features.disease.desc">AI-powered models analyze crop images to detect early signs of diseases. This helps farmers take timely preventive measures and reduce crop losses.</div>
        </div>
      </a>
      <a href="/yieldwise" style="text-decoration: none; color: inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#a585ff" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.yieldwise.title">YieldWise</div>
          <div class="feature-desc" data-translate="features.yieldwise.desc">Calculate profit and loss margins for different crops and farming strategies.
Smart financial planning tool to optimize resource allocation and maximize returns.</div>
        </div>
      </a>
      <a href="/government-schemes" style="text-decoration: none; color: inherit;">
        <div class="feature-card">
          <span class="feature-circle">
            <svg width="36" height="36"><circle cx="18" cy="18" r="15" fill="none" stroke="#ff9185" stroke-width="3" stroke-dasharray="18 12" /></svg>
          </span>
          <div class="feature-icon"></div>
          <div class="feature-title" data-translate="features.schemes.title">Government Schemes</div>
          <div class="feature-desc" data-translate="features.schemes.desc">Access information about agricultural subsidies, loans, and government support programs.
Stay updated with the latest policies and benefits available for farmers.</div>
        </div>
      </a>
    </div>
  </div>
  <!-- Chatbot Widget (initially hidden) -->
  <div class="agri-chatbot-widget" id="chatbot" style="display: none;">
    <div class="chatbot-header">
      <div class="bot-icon">
        <img src="{{ url_for('static', filename='images/icon.png') }}" alt="Chatbot Icon">
      </div>
      <div class="bot-info">
        <h3>AgriBot AI</h3>
        <p>Your farming assistant</p>
      </div>
      <div class="status-indicator"></div>
      <button class="minimize-btn" onclick="toggleChatbot()">‚àí</button>
    </div>
    <div class="chat-messages" id="chatMessages"></div>
    <div class="quick-suggestions">
      <button class="suggestion-btn">Crop rotation</button>
      <button class="suggestion-btn">Pest control</button>
      <button class="suggestion-btn">Weather forecast</button>
    </div>
    <div class="chat-input-area">
      <div class="input-container">
        <input type="text" class="chat-input" placeholder="Ask about farming, crops, weather..." id="messageInput">
        <button class="send-button" onclick="sendMessage()"></button>
      </div>
    </div>
  </div>
  <!-- Toggle Button (initially visible) -->
  <button class="chatbot-toggle" id="chatbotToggle" onclick="toggleChatbot()" style="display: flex;">
    <img src="{{ url_for('static', filename='images/icon.png') }}" alt="Chatbot">
  </button>

  <script src="{{ url_for('static', filename='chatbot.js') }}"></script>
  <script>
    // Initialize global translation system for features page
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof GlobalTranslationSystem !== 'undefined') {
        const translationSystem = new GlobalTranslationSystem();
        translationSystem.initialize();
        console.log('Global translation system initialized for features page');
      }
    });
  </script>
</body>
</html>